<!DOCTYPE html>
<html>
    <head>
    <title> Debug </title>
    <script type="text/javascript" src="./libs/ds.js"></script>
    <script type="text/javascript" src="./libs/engine.js"></script>
    <script type="text/javascript" src="./libs/three.js"></script>
    <script type="text/javascript" src="./libs/OrbitControls.js"></script>
    <script type="text/javascript" src="./libs/jquery-2.1.1.js"></script>
    <script type="text/javascript" src="./libs/Stats.js"></script>
    <script type="text/javascript" src="./libs/DAT.GUI.js"></script>
    <script type="text/javascript" src="./libs/factories.js"></script>
    <script type="text/javascript" src="./libs/detector.js"></script>
    <script type="text/javascript" src="./libs/palettes.js"></script>
    <script type="text/javascript" src="./libs/models.js"></script>
    <link rel="stylesheet" type="text/css" href="./css/lean.css">
    </head>

    <body>
    <div id="Stats-output"> </div>
    <div id="WebGL-output"> </div>
	
        <script type="text/javascript">
            var g = new Graph(25);
            g.addEdge(0,1);
            g.addEdge(0,2);
            g.addEdge(1,3);
            g.addEdge(2,4);
            g.addEdge(13,5);
            g.addEdge(24, 3);
            g.addEdge(14,1);
            g.addEdge(10,22);

            console.log(g.printGraph() );

            //initialize engine
            var e = new Engine("#WebGL-output", true, 0x000000, 1.0, true);
            e.addAxes();
            
            //initialize camera position
            e.camera.position.set(0, -200, 150);            
            e.camera.lookAt(e.scene.position);
            e.createOrbitControls();
            
            
          //create test material
            var mat = Factories.Materials.createLambertMaterial(Palettes.Halloween.green);
            var plmat = Factories.Materials.createLambertMaterial(Palettes.Halloween.white);

            //create light
            var sl = Factories.Lights.createSpotLight({x: 200,y: 44,z: 200}, Palettes.Halloween.white, 0.75);
            var dirl = Factories.Lights.createDirectionalLight(new THREE.Vector3(0,0,1), Palettes.Halloween.white, 0.5)


            var pl = Factories.Shapes.createPlane({x: 200, y: 200}, plmat);
            pl.position.set(0,0,-1);
            //pl.rotation.x += -0.5 * Math.PI;


            var gmodel = new GraphModel(g, undefined, {nodeColor: Palettes.Halloween.purple, linkColor: Palettes.Halloween.black} );


            var smodel = new SortingModel([1, 5, 10, 2, 9, 7, 13], {selected: Palettes.Halloween.orange, unselected: Palettes.Halloween.green }, {x: 10, y: 10}, -1);




            //create test shapes
            // var sp = Factories.Shapes.createSphere(3, mat);
            // sp.position.set(8,4,5);

            // var box = Factories.Shapes.createBox(5,5,55, mat);
            // box.position.set(0,0,35);



            // var cly = Factories.Shapes.createCylinder(1,1,30, mat);
            // cly.position.set( 10, 10, 0);
            

            // var points = [box.position, sp.position];
            // var tube = Factories.Shapes.createTube(points, 32, 0.25, 8, false, mat);



            //add object to scene
            e.scene.add(pl);
            e.scene.add(sl);
            e.scene.add(dirl);

/*            for(var i = 0; i < gmodel.nodeList.length; i++) {
                e.scene.add(gmodel.nodeList[i].mesh);    
            }

            for(var i = 0; i < gmodel.edgeList.length; i++) {
                e.scene.add(gmodel.edgeList[i].mesh);    
            }*/


            for(var i = 0; i < smodel.barObjList.length; i++) {
                e.scene.add(smodel.barObjList[i].mesh);    
            }

            // e.scene.add(box);
            //e.scene.add(sp);
            //e.scene.add(cly);
            //e.scene.add(tube);

            //render loop
            e.render();
            
  
        </script>
    </body>

</html>
